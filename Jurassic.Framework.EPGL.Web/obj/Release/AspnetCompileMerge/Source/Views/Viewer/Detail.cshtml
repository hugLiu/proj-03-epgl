@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    @*<meta charset="utf-8" />*@
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate">
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新疆油田图库管理系统-图件详情</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href="~/Content/EPGL/css/plugins/jQueryUI/jquery-ui.min.css" rel="stylesheet" />
    <link href="~/Content/EPGL/css/core/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/EPGL/css/core/font-awesome.min.css" rel="stylesheet" />
    <link href="~/Content/EPGL/css/core/font-awesome-ie7.min.css" rel="stylesheet" />
    <link href="~/Content/EPGL/css/core/animate.css" rel="stylesheet" />

    <!--free jqgrid-->
    <link href="~/Content/EPGL/css/plugins/jqGrid-master/ui.jqgrid.min.css" rel="stylesheet" />
    <link href="~/Content/EPGL/css/plugins/jqGrid-master/plugins/css/ui.multiselect.min.css" rel="stylesheet" />
    <!--fileinput-->
    <link href="~/Content/EPGL/css/plugins/fileinput/fileinput.css" rel="stylesheet" />
    <!--kendo-->
    <link href="~/Content/EPGL/css/plugins/kendo/kendo.bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/EPGL/css/plugins/kendo/kendo.common-bootstrap.min.css" rel="stylesheet" />
    <!--bootstrap datetimepicker-->
    <link href="~/Content/EPGL/css/plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css" rel="stylesheet" />
    <!--bootstrap colorpicker-->
    <link href="~/Content/EPGL/css/plugins/bootstrap-colorpicker/bootstrap-colorpicker.min.css" rel="stylesheet" />

    <link href="~/Content/EPGL/css/shared/style.css" rel="stylesheet" />
    <link href="~/Content/EPGL/css/shared/layout.css" rel="stylesheet" />
    <link href="~/Content/EPGL/css/plugins/fileinput/fileinput.css" rel="stylesheet" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="~/Content/EPGL/js/shared/html5shiv/3.7/html5shiv.min.js"></script>
    <script src="~/Content/EPGL/js/shared/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        k-animation-container, .k-animation-container *,
        .k-animation-container :after, .k-block .k-header,
        .k-list-container,
        .k-widget, .k-widget *,
        .k-widget :before {
            -webkit-box-sizing: border-box !important;
            box-sizing: border-box !important;
        }

        #verticalSplitter {
            border-width: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .inline-pane {
            display: inline-block;
            *display: inline;
            vertical-align: top;
            /*height: calc(100% - 7px);
            height: -moz-calc(100% - 7px);
            height: -webkit-calc(100% - 7px);*/
            height: 100%;
        }

        .middle-pane {
            width: calc(100% - 340px);
            width: -moz-calc(100% - 340px);
            width: -webkit-calc(100% - 340px);
            height: 100%;
        }

        .middle-panel {
            border: none;
            width: 100%;
            margin: 0;
        }

        .middle-panel-body {
            padding: 0;
            /*box-sizing:border-box;*/
        }

        .joGIS-block {
            width: 100%;
            height: calc(100% - 48px);
            height: -moz-calc(100% - 48px);
            height: -webkit-calc(100% - 48px);
        }

        .right-pane {
            width: 110px;
        }

        .left-pane {
            width: 220px;
        }
        /*注意box-sizing的值*/
        .left-content, .bottom-content {
            height: calc(100% - 45px);
            height: -moz-calc(100% - 45px);
            height: -webkit-calc(100% - 45px);
            width: 100%;
        }

        #tool_button {
            display: block;
            margin-top: auto;
            margin-bottom: auto;
            text-align: center;
        }

        #layer_pane {
            height: calc(100% - 215px);
            height: -moz-calc(100% - 215px);
            height: -webkit-calc(100% - 215px);
        }

        .tab-pane {
            width: 100%;
            height: 100%;
            padding: 2px;
            box-sizing: border-box !important;
        }

        .modal-body {
            padding: 15px;
        }

        .ui-dialog-buttonpane .ui-widget {
            z-index: 2;
        }

        .ui-dialog-titlebar .ui-widget {
            z-index: 2;
        }

        .selected .connected-list, .available .connected-list {
            height: calc(100% - 31px) !important;
            height: -moz-calc(100% - 31px);
            height: -webkit-calc(100% - 31px);
        }

        .ui-multiselect input.search {
            height: 16px;
        }

        fieldset {
            font-size: 18px;
        }

        .popover {
            max-width: 950px;
        }

        .colorpicker {
            z-index: 100009;
        }

        #color-box .input-group {
            float: left;
        }

            #color-box .input-group:nth-of-type(even) {
                margin-left: 20px;
            }
        /*bootstrap apinner*/
        .spinner input {
            text-align: right;
        }

        .input-group-btn-vertical {
            position: relative;
            white-space: nowrap;
            width: 1%;
            vertical-align: middle;
            display: table-cell;
        }

            .input-group-btn-vertical > .btn {
                display: block;
                float: none;
                width: 100%;
                max-width: 100%;
                padding: 8px;
                margin-left: -1px;
                position: relative;
                border-radius: 0;
            }

                .input-group-btn-vertical > .btn:first-child {
                    border-top-right-radius: 4px;
                }

                .input-group-btn-vertical > .btn:last-child {
                    margin-top: -2px;
                    border-bottom-right-radius: 4px;
                }

            .input-group-btn-vertical i {
                position: absolute;
                top: 0;
                left: 4px;
            }

        .checkbox-addon {
            width: 209px;
            text-align: left;
        }

        .form-fix {
            padding: 5px;
        }

        .lable-width-2 {
            width: 113px;
        }

        .lable-width-4 {
            width: 30px;
        }

        .lable-width-3 {
            width: 100px;
        }

        .select-width-4 {
            width: 159.5px !important;
        }

        .select-width-3 {
            width: 170px !important;
        }

        .select-width-2 {
            width: 271.5px !important;
        }

        .popover hr {
            border: 1px dashed rgb(186, 181, 181);
            margin: 5px 0;
        }
    </style>
</head>
<body class="gray-bg pace-done">
    <form id="formDown" method="post" action="/FileInfo/DownLoad" style="display:none;">
        <input type="hidden" name="id" id="id" />
        <input type="hidden" name="title" id="title" />
        <input type="hidden" name="url" id="url" />
        <input type="hidden" name="ticket" id="ticket" />
        <input type="hidden" name="format" id="format" />
        <input type="hidden" name="name" id="name" />
    </form>
    <div id="verticalSplitter">
        <div id="top_pane">
            <div class="inline-pane left-pane">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#map_info" aria-controls="map_info" role="tab" data-toggle="tab">图件信息</a></li>
                    <li role="presentation"><a href="#map_layer" aria-controls="map_layer" role="tab" data-toggle="tab">图层列表</a></li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content left-content">
                    <div role="tabpanel" class="tab-pane active" id="map_info">
                        <h4 class="font-bold">编图人：<small data-bind="text:currentMapAuthor"></small></h4>
                        <h4 class="font-bold">绘图人：<small data-bind="text:currentMapDrawer"></small></h4>
                        <h4 class="font-bold">审核人：<small data-bind="text:currentMapAuditor"></small></h4>
                        <h4 class="font-bold">制图日期：<small data-bind="text:currentMapCreatedDate"></small></h4>
                    </div>
                    <div role="tabpanel" class="tab-pane" id="map_layer">
                        <table id="mapLayer_table"></table>
                    </div>
                </div>
            </div>
            <div class="inline-pane middle-pane">
                <div class="panel panel-default middle-panel">
                    <div class="panel-heading">
                        <nav aria-label="switchPicture">
                            <ul class="pager" style="margin: 0px;">
                                <li class="previous"><a data-bind="click:toLastMap"><i class="fa fa-caret-left fa-lg" aria-hidden="true"></i></a></li>
                                <li><span data-bind="text:currentMapName" style="background-color: transparent; border: none;"></span></li>
                                <li class="next"><a data-bind="click:toNextMap"><i class="fa fa-caret-right fa-lg" aria-hidden="true"></i></a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="panel-body middle-panel-body">
                        <OBJECT ID="joGIS1" CLASSID="clsid:D2546426-13FD-4018-85F1-F5BD61147C8F" CODEBASE="JoWeb.ocx＃version=1,0,0,1" class="joGIS-block" ALIGN=center HSPACE=0 VSPACE=0 wmode="Opaque">
                            <PARAM NAME="_Version" VALUE="65536">
                            <PARAM NAME="_ExtentX" VALUE="20000">
                            <PARAM NAME="_ExtentY" VALUE="15000">
                            <PARAM NAME="_StockProps" VALUE="0">
                            <PARAM NAME="WMODE" VALUE="transparent">
                        </OBJECT>
                    </div>
                </div>
            </div>
            <div class="inline-pane right-pane">
                <div id="tool_button" role="group" aria-label="...">
                    <ul class="list-group" id="group">
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_select"><i class="fa fa-mouse-pointer"></i>&nbsp;单选目标</a></li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_zoomin"><i class="fa fa-plus-square-o"></i>&nbsp;拉框放大</a></li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_zoomout"><i class="fa fa-minus-square-o"></i>&nbsp;拉框缩小</a></li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_move"><i class="fa fa-hand-paper-o"></i>&nbsp;图件移动</a></li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_reset"><i class="fa fa-circle-o-notch"></i>&nbsp;图件复位</a></li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_cut"><i class="fa fa-crop"></i>&nbsp;框选目标</a></li>
                        <li class="list-group-item" style="z-index: 3;">
                            <a role="button">
                                <input id="file-input" name="file-input" type="file" class="file-loading" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" />
                            </a>
                        </li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_clean"><i class="fa fa-eraser"></i>&nbsp;清除选择</a></li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_mapdata"><i class="fa fa-file-image-o"></i>&nbsp;图数联动</a></li>
                        <li class="list-group-item" style="z-index: 3;" id="status_popover"><a id="tool_status"><i class="fa fa-pie-chart"></i>&nbsp;开采现状</a></li>
                        <li class="list-group-item" style="z-index: 3;" id="curve_popover"><a id="tool_curve"><i class="fa fa-bar-chart"></i>&nbsp;开发曲线</a></li>
                        <li class="list-group-item" style="z-index: 3;" id="well_popover"><a id="tool_well" style="padding:0" class="btn"><i class="fa fa-bullseye"></i>&nbsp;井位投影</a></li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_area" style="padding:0" class="btn"><i class="fa fa-area-chart"></i>&nbsp;面积投影</a></li>
                        <li class="list-group-item" style="z-index: 3;">
                            <a role="button">
                                <input id="file-input2" name="file-input2" type="file" class="file-loading" accept=".gdbx" />
                            </a>
                        </li>
                        <li class="list-group-item" style="z-index: 3;"><a id="tool_download"><i class="fa fa-download"></i>&nbsp;图件保存</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div id="bottom_pane">
            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#drilling_base" tabindex="1" aria-controls="drilling_base" role="tab" data-toggle="tab">钻井基础</a></li>
                <li role="presentation"><a href="#reserves_oil" tabindex="2" aria-controls="reserves_oil" role="tab" data-toggle="tab">油藏储量</a></li>
                <li role="presentation"><a href="#reserves_gas" tabindex="3" aria-controls="reserves_gas" role="tab" data-toggle="tab">气藏储量</a></li>
                <li role="presentation"><a href="#capacity_heavy" tabindex="4" aria-controls="capacity_heavy" role="tab" data-toggle="tab">稠油采油井产量</a></li>
                <li role="presentation"><a href="#capacity_dilute" tabindex="5" aria-controls="capacity_dilute" role="tab" data-toggle="tab">稀油采油井产量</a></li>
                <li role="presentation"><a href="#capacity_water" tabindex="6" aria-controls="capacity_water" role="tab" data-toggle="tab">注水井产量</a></li>
                <li role="presentation"><a href="#capacity_gas" tabindex="7" aria-controls="capacity_gas" role="tab" data-toggle="tab">采气井产量</a></li>
            </ul>
            <div class="tab-content bottom-content">
                <div role="tabpanel" class="tab-pane active" id="drilling_base">
                    <table id="drilling_base_table"></table>
                    <div id="drilling_base_pager"></div>
                </div>
                <div role="tabpanel" class="tab-pane" id="reserves_oil">
                    <table id="reserves_oil_table"></table>
                    <div id="reserves_oil_pager"></div>
                </div>
                <div role="tabpanel" class="tab-pane" id="reserves_gas">
                    <table id="reserves_gas_table"></table>
                    <div id="reserves_gas_pager"></div>
                </div>
                <div role="tabpanel" class="tab-pane" id="capacity_heavy">
                    <table id="capacity_heavy_table"></table>
                    <div id="capacity_heavy_pager"></div>
                </div>
                <div role="tabpanel" class="tab-pane" id="capacity_dilute">
                    <table id="capacity_dilute_table"></table>
                    <div id="capacity_dilute_pager"></div>
                </div>
                <div role="tabpanel" class="tab-pane" id="capacity_water">
                    <table id="capacity_water_table"></table>
                    <div id="capacity_water_pager"></div>
                </div>
                <div role="tabpanel" class="tab-pane" id="capacity_gas">
                    <table id="capacity_gas_table"></table>
                    <div id="capacity_gas_pager"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="well_content" class="hide">
        <div>
            <div>
                <div style="display:inline-block;width:150px;"><h4>井位投影</h4></div>
            </div>
            <div class="form-inline">
                <div class="form-group">
                    <label>井类别：</label>
                    <select class="form-control" name="wellSelect" style="width:220px;" data-placeholder="选择井类别..." tabindex="2" data-type="目前井别" data-bind="options: availaleWellBlocks, optionsCaption: '选择井类别...'"></select>
                </div>
            </div>
            <div style="text-align:right;margin:10px 0;">
                <button id="well_sure" class="btn btn-primary">确定</button>
                <button id="well_cancel" class="btn btn-default">取消</button>
            </div>
        </div>
    </div>
    <div id="area_content" class="hide">
        <div style="width:860px;">
            <div>
                <div style="display:inline-block;width:150px;"><h4>面积投影</h4></div>
            </div>
            <hr />
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-3">区带：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="区带" data-placeholder="选择区带..." tabindex="1" reservoir data-bind="options: zone, optionsCaption: '选择区带...',event:{change:function(){return advanceSelectChanged('qd')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">二级构造单元：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="二级构造单元" data-placeholder="选择二级构造单元..." tabindex="2" reservoir data-bind="options: secondaryStructure, optionsCaption: '选择二级构造...',event:{change:function(){return advanceSelectChanged('yt')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">油气田：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="油气田" data-placeholder="选择油气田..." tabindex="3" reservoir data-bind="options: oilfield, optionsCaption: '选择油田...',event:{change:function(){return advanceSelectChanged('yc')}}"></select>
                </div>
            </div>
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-3">井区块：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="井区块" data-placeholder="选择井区块..." tabindex="4" reservoir data-bind="options: wellBlocks, optionsCaption: '选择井区块...'"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">层位：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="层位" data-placeholder="选择层位..." tabindex="5" reservoir data-bind="options: horizon, optionsCaption: '选择层位...'"></select>
                </div>
            </div>
            <hr />
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-4">界：</label>
                    <select class="form-control select-width-4" name="areaSelect" data-type="界" data-placeholder="选择界..." tabindex="1" reservoir data-bind="options: sector, optionsCaption: '选择界...',event:{change:function(){return advanceSelectChanged('qd')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-4">系：</label>
                    <select class="form-control select-width-4" name="areaSelect" data-type="系" data-placeholder="选择系..." tabindex="2" reservoir data-bind="options: series, optionsCaption: '选择系...',event:{change:function(){return advanceSelectChanged('yt')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-4">统：</label>
                    <select class="form-control select-width-4" name="areaSelect" data-type="统" data-placeholder="选择统..." tabindex="3" reservoir data-bind="options: gather, optionsCaption: '选择统...',event:{change:function(){return advanceSelectChanged('yc')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-4">组：</label>
                    <select class="form-control select-width-4" name="areaSelect" data-type="组" data-placeholder="选择组..." tabindex="4" reservoir data-bind="options: formation, optionsCaption: '选择组...'"></select>
                </div>
            </div>
            <hr />
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-3">上报年度：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="上报年度" data-placeholder="选择上报年度..." tabindex="1" reservoir data-bind="options: annualReporting, optionsCaption: '选择上报年度...',event:{change:function(){return advanceSelectChanged('qd')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">归属单位：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="归属单位" data-placeholder="选择归属单位..." tabindex="2" reservoir data-bind="options: manageUnits, optionsCaption: '选择归属单位...',event:{change:function(){return advanceSelectChanged('yt')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">管理方式：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="管理方式" data-placeholder="选择管理方式..." tabindex="3" reservoir data-bind="options: manageMode, optionsCaption: '选择管理方式...',event:{change:function(){return advanceSelectChanged('yc')}}"></select>
                </div>
            </div>
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-3">储量类型：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="储量类型" data-placeholder="选择储量类型..." tabindex="4" reservoir data-bind="options: storageType, optionsCaption: '选择储量类型...'"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">储量类别：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="储量类别" data-placeholder="选择储量类别..." tabindex="5" reservoir data-bind="options: storageCategories, optionsCaption: '选择储量类别...'"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">储量来源：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="储量来源" data-placeholder="选择储量来源..." tabindex="6" reservoir data-bind="options: storageSource, optionsCaption: '选择储量来源...',event:{change:function(){return advanceSelectChanged('x')}}"></select>
                </div>
            </div>
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-3">油气藏类型：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="油气藏类型" data-placeholder="选择油气藏类型..." tabindex="7" reservoir data-bind="options: reservoirType, optionsCaption: '选择油气藏类型...',event:{change:function(){return advanceSelectChanged('t')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">储层物性：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="储层物性" data-placeholder="选择储层物性..." tabindex="8" reservoir data-bind="options: reservoirPhysical, optionsCaption: '选择储层物性...',event:{change:function(){return advanceSelectChanged('z')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">储层岩性：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="储层岩性" data-placeholder="选择储层岩性..." tabindex="9" reservoir data-bind="options: reservoirLithology, optionsCaption: '选择储层岩性...',event:{change:function(){return advanceSelectChanged('d')}}"></select>
                </div>
            </div>
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-3">岩性细分：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="岩性细分" data-placeholder="选择岩性细分..." tabindex="10" reservoir data-bind="options: subdivisionLithology, optionsCaption: '选择岩性细分...'"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">储量丰度：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="储量丰度" data-placeholder="选择储量丰度..." tabindex="11" reservoir data-bind="options: reservesAbundance, optionsCaption: '选择储量丰度...',event:{change:function(){return advanceSelectChanged('x')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">资源类型：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="资源类型" data-placeholder="选择资源类型..." tabindex="12" reservoir data-bind="options: crudeTypes, optionsCaption: '选择资源类型...',event:{change:function(){return advanceSelectChanged('t')}}"></select>
                </div>
            </div>
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-3">原油密度：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="原油密度" data-placeholder="选择原油密度..." tabindex="13" reservoir data-bind="options: crudeDensity, optionsCaption: '选择原油密度...',event:{change:function(){return advanceSelectChanged('z')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">边底水情况：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="边底水情况" data-placeholder="选择边底水情况..." tabindex="14" reservoir data-bind="options: edgeBottomWater, optionsCaption: '选择边底水情况...',event:{change:function(){return advanceSelectChanged('d')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">驱动类型：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="驱动类型" data-placeholder="选择驱动类型..." tabindex="15" reservoir data-bind="options: driveTypes, optionsCaption: '选择驱动类型...'"></select>
                </div>
            </div>
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-3">储集类型：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="储集类型" data-placeholder="选择储集类型..." tabindex="16" reservoir data-bind="options: saveType, optionsCaption: '选择储集类型...',event:{change:function(){return advanceSelectChanged('x')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">胶结类型：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="胶结类型" data-placeholder="选择胶结类型..." tabindex="17" reservoir data-bind="options: cementationTypes, optionsCaption: '选择胶结类型...',event:{change:function(){return advanceSelectChanged('t')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-3">埋藏深度：</label>
                    <select class="form-control select-width-3" name="areaSelect" data-type="埋藏深度" data-placeholder="选择埋藏深度..." tabindex="18" reservoir data-bind="options: burialDepth, optionsCaption: '选择驱动类型...'"></select>
                </div>
            </div>
            <div class="form-inline form-fix">
                <div class="form-group">
                    <label class="lable-width-2">储层非均质程度：</label>
                    <select class="form-control select-width-2" name="areaSelect" data-type="储层非均质程度" data-placeholder="选择储层非均质程度..." tabindex="19" reservoir data-bind="options: heterogeneousDegree, optionsCaption: '选择储层非均质程度...',event:{change:function(){return advanceSelectChanged('z')}}"></select>
                </div>
                <div class="form-group">
                    <label class="lable-width-2">地层压力：</label>
                    <select class="form-control select-width-2" name="areaSelect" data-type="地层压力" data-placeholder="选择地层压力..." tabindex="20" reservoir data-bind="options: formationPressure, optionsCaption: '选择地层压力...',event:{change:function(){return advanceSelectChanged('d')}}"></select>
                </div>
            </div>
            <hr />
            <div style="text-align:right;margin:10px 5px;">
                <button id="area_sure" class="btn btn-primary" style="position:relative;z-index: 5;">确定</button>
                <button id="area_cancel" class="btn btn-default" style="position:relative;z-index: 5;">取消</button>
            </div>
        </div>
    </div>
    <div id="status_content" class="hide">
        <div>
            <div style="display:inline-block;width:181px;vertical-align:top;">
                <div class="form-group">
                    <label for="dataType">类型：</label>
                    <select class="form-control" id="dataType">
                        <option value="RCQL,RCSL,RCYL,RZSL" selected="selected">日产图</option>
                        <option value="LJCQL,LJCSL,LJCYL,LJZSL">累产图</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>日期：</label>
                    <div class="input-group date" id="specifiedDate">
                        <input class="form-control" type="text" value="">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="patternType">图型：</label>
                    <select class="form-control" id="patternType">
                        <optgroup label="柱状专题图">
                            <option value="0">堆积柱状图</option>
                            <option value="1">横排柱状图</option>
                        </optgroup>
                        <optgroup label="饼状专题图">
                            <option selected="selected" value="2">全饼图</option>
                            <option value="3">上饼图</option>
                            <option value="4">下饼图</option>
                        </optgroup>
                    </select>
                </div>

            </div>
            <div style="display:inline-block;width:200px;vertical-align:top;">
                @*<div class="form-group">
                        <label for="dataSouce">数据源：</label>
                        <select multiple class="form-control" id="dataSouce">
                            <option value="0" selected="selected">采油</option>
                            <option value="1" selected="selected">采气</option>
                            <option value="2" selected="selected">注水</option>
                        </select>
                    </div>*@
                <div class="form-group">
                    <label>颜色设置：</label>
                    <div class="input-group">
                        <span class="input-group-addon checkbox-addon">
                            <input type="checkbox" name="checkWellData" value="0" checked />产油
                        </span>
                        <div id="oilColor" class="input-group colorpicker-component">
                            <input type="text" value="rgb(255,0,0)" class="form-control hidden" />
                            <span class="input-group-addon"><i></i></span>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon checkbox-addon">
                            <input type="checkbox" name="checkWellData" value="1" checked />产气
                        </span>
                        <div id="gasColor" class="input-group colorpicker-component">
                            <input type="text" value="rgb(255,255,0)" class="form-control hidden" />
                            <span class="input-group-addon"><i></i></span>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon checkbox-addon">
                            <input type="checkbox" name="checkWellData" value="2" checked />产水
                        </span>
                        <div id="waterColor" class="input-group colorpicker-component">
                            <input type="text" value="rgb(0,0,255)" class="form-control hidden" />
                            <span class="input-group-addon"><i></i></span>
                        </div>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon checkbox-addon">
                            <input type="checkbox" name="checkWellData" value="3" checked />注水
                        </span>
                        <div id="inWaterColor" class="input-group colorpicker-component">
                            <input type="text" value="rgb(0,255,0)" class="form-control hidden" />
                            <span class="input-group-addon"><i></i></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>显示系数设置：</label>
                    <div class="input-group spinner">
                        <span class="input-group-addon">产油</span>
                        <input id="oilDisPar" type="text" value="1" class="form-control" />
                        <div class="input-group-btn-vertical">
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
                        </div>
                    </div>
                    <div class="input-group spinner">
                        <span class="input-group-addon">产气</span>
                        <input id="gasDispPar" type="text" value="1" class="form-control" />
                        <div class="input-group-btn-vertical">
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
                        </div>
                    </div>
                    <div class="input-group spinner">
                        <span class="input-group-addon">产水</span>
                        <input id="waterDispPar" type="text" value="1" class="form-control" />
                        <div class="input-group-btn-vertical">
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
                        </div>
                    </div>
                    <div class="input-group spinner">
                        <span class="input-group-addon">注水</span>
                        <input id="inWaterDispPar" type="text" value="1" class="form-control" />
                        <div class="input-group-btn-vertical">
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="text-align:right;margin:0;">
            <button type="button" class="btn btn-primary" id="tool_status_ok">确定</button>
            <button type="button" class="btn btn-default" id="tool_status_cancel">取消</button>
        </div>
    </div>
    <div id="curve_content" class="hide">
        <div>
            <div style="display:inline-block;width:300px;vertical-align:top;">
                @*<div class="form-group">
                        <label>井型：</label>
                        <select class="form-control" name="wellModel" style="width:220px;" data-placeholder="选择井型..." tabindex="1">
                            <option>选择井型...</option>
                        </select>
                    </div>*@
                <div class="form-group">
                    <label>井类别：</label>
                    <div class="form-inline">
                        <select class="form-control" name="wellClass" style="width:200px;" data-placeholder="选择井类别..." tabindex="2">
                            <option>选择井类别...</option>
                        </select>
                        <button class="btn btn-default" id="wellSearch">过滤</button>
                    </div>
                </div>

                <div class="form-group">
                    <label>数据源：</label>
                    <label class="checkbox-inline">
                        <input type="checkbox" name="checkAll">全选
                    </label>
                    <div name="wellResult" style="height:420px;overflow:auto;">

                    </div>
                    @*<label class="checkbox-inline">
                            <input type="checkbox" data-bind="value:BOID,text:NAME">
                        </label>*@
                </div>

            </div>
            <div style="display:inline-block;width:550px;vertical-align:top;">
                <div class="form-group">
                    <label style="display:block">时间范围：</label>
                    <div class="input-group" style="width:250px;float:left">
                        <span class="input-group-addon">从</span>
                        <div class="input-group date" id="fromDate">
                            <input class="form-control" type="text" value="">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </div>
                    <div class="input-group" style="width:250px;float:left;margin-left:20px">
                        <span class="input-group-addon">到</span>
                        <div class="input-group date" id="toDate">
                            <input class="form-control" type="text" value="">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </div>
                    <div style="clear:both"></div>
                </div>
                <div class="form-group" id="color-box">
                    <label>显示数据和颜色设置：</label>
                    <select class="form-control" name="curveTemplat" style="width:200px;display:inline-block;margin-left:176px;" data-placeholder="选择模板..." data-bind="options: curveTemplate,optionsText:'dptempname',optionsValue:'dptempid'">
                    </select>
                    <!--ko foreach:curveMode-->
                    <div class="input-group">
                        <span class="input-group-addon checkbox-addon">
                            <input type="checkbox" name="checkDataSouce" data-bind="value:KEY,text:CAPTION,attr:{'data-type':VALTYPE,'data-name':CAPTION+'('+CAPTIONEXTEND+')'}" />
                        </span>
                        <div class="input-group colorpicker-component" data-bind="attr:{title:CAPTION}">
                            <input class="form-control hidden" type="text" data-bind="attr:{value:VALFORMAT}" />
                            <span class="input-group-addon" style="border-left:1px;"><i></i></span>
                        </div>
                    </div>
                    <!--/ko-->
                </div>
            </div>
        </div>
        <div style="text-align: right;margin:0;">
            <button type="button" class="btn btn-primary" id="tool_curve_ok" data-toggle="modal" data-target="#curve_modal">生成曲线</button>
            <button type="button" class="btn btn-default" id="tool_curve_cancel">取消</button>
        </div>
    </div>
    <div class="modal fade" id="curve_modal" tabindex="-1" role="dialog" aria-labelledby="curveModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="curveModalLabel">开发曲线</h4>
                </div>
                <div class="modal-body">
                    <div id="curve_pane" style="height: 500px; width: 868px;"></div>
                </div>
            </div>
        </div>
        <iframe scrolling=no allowTransparency="true" style='background-color: transparent; position: absolute; z-index: 0; width: 100%; height: 100%; top: 0; left: 0; border: none;'></iframe>
    </div>
    <!-- 全局js -->
    <script src="~/Content/EPGL/js/core/jquery-2.1.4.min.js"></script>
    <script src="~/Content/EPGL/js/core/knockout-3.4.2.js"></script>
    <script src="~/Content/EPGL/js/core/bootstrap.js"></script>
    <script src="~/Content/EPGL/js/plugins/jquery-ui/jquery-ui.min.js"></script>

    <!--free jqgrid-->
    <script src="~/Content/EPGL/js/plugins/jqGrid-master/i18n/grid.locale-cn.js"></script>
    <script src="~/Content/EPGL/js/plugins/jqGrid-master/plugins/ui.multiselect.js" charset="GBK"></script>
    <script src="~/Content/EPGL/js/plugins/jqGrid-master/jquery.jqgrid.min.js"></script>
    <script src="~/Content/EPGL/js/plugins/jqGrid-master/grid.jqueryui.js"></script>

    <!--kendo-->
    <script src="~/Content/EPGL/js/plugins/kendo/kendo.all.min.js"></script>
    <!--linq-->
    <script src="~/Content/EPGL/js/plugins/linq.js_ver2.2.0.2/linq.min.js"></script>
    <!--echart-->
    <script src="~/Content/EPGL/js/plugins/echarts-3.6.0/echarts.min.js"></script>
    <!--bootstrap datetimepicker-->
    <script src="~/Content/EPGL/js/plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js"></script>
    <script src="~/Content/EPGL/js/plugins/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js"></script>
    <!--bootstrap colorpicker-->
    <script src="~/Content/EPGL/js/plugins/bootstrap-colorpicker/bootstrap-colorpicker.min.js"></script>

    <!--fileinput-->
    <script src="~/Content/EPGL/js/plugins/fileinput/fileinput.min.js"></script>
    <script src="~/Content/EPGL/js/plugins/fileinput/locales/zh.js"></script>

    <!-- 自定义js -->

    <script src="~/Content/EPGL/js/shared/jogis.js_v4.0/jogis-frame.js"></script>
    <script src="~/Content/EPGL/js/shared/global.js"></script>
    <script src="~/Content/EPGL/js/shared/content.js"></script>
    <script src="~/Content/EPGL/js/shared/jsTools.js"></script>

    <!--jqGridExportToExcel-->
    <script src="~/Content/EPGL/js/shared/jqGridExportToExcel.js"></script>


    <!--页面级脚本-->
    <script src="~/Content/EPGL/js/pages/viewer/detail.js"></script>
    <script type="text/javascript">
        $.jgrid.defaults.responsive = true;
        $.jgrid.defaults.styleUI = 'Bootstrap';
        $.jgrid.no_legacy_api = true;

        var mapId = '@Html.Raw(ViewBag.MapId)';
        //IID数组
        var mapData = '@Html.Raw(ViewBag.MapData)';
        mapData = mapData.split(",");

        //文档加载
        $(document).ready(function () {

            //document.onmousewheel = function() {return false;}//屏蔽鼠标滚轮
            document.onselectstart = function () { return false; }//禁止选取、防止复制
            document.oncopy = function () { return false; }//禁止复制和剪切
            document.onpaste = function () { return false; }//禁止粘贴


            splitter = $("#verticalSplitter").kendoSplitter({
                orientation: "vertical",
                panes: [
                    { collapsible: true },
                    { collapsible: true, collapsed: true, size: "200px" }
                ],
                resize: function (e) {
                    var pane = $(e.sender.element).children(".k-pane")[1];
                    if (!pane) return;
                    var height = $(pane).height();
                    if (height <= 0) {
                        return;
                    }
                    var gridHeight = height - 100;

                    drillingBaseTable.jqGrid("setGridHeight", gridHeight);
                    reservesOilTable.jqGrid("setGridHeight", gridHeight);
                    reservesGasTable.jqGrid("setGridHeight", gridHeight);
                    capacityHeavyTable.jqGrid("setGridHeight", gridHeight);
                    capacityDiluteTable.jqGrid("setGridHeight", gridHeight);
                    capacityWaterTable.jqGrid("setGridHeight", gridHeight);
                    capacityGasTable.jqGrid("setGridHeight", gridHeight);

                }
            }).data("kendoSplitter");

            currentViewModel = new ViewModel(mapId, mapData);
            ko.applyBindings(currentViewModel);
            //配置地图
            initGeoMap();
            //渲染图层表格
            renderMapLayerTable();
            //渲染图数表格
            initDataTable();
            //加载地图
            if (currentViewModel.currentMap()) {
                loadGeoMap(currentViewModel.currentMap().sourceUrl);
            }
            
            //加载开发曲线模型数据
            loadCurveMode();
            //加载开发曲线模板
            loadCurveTemplate();
            loadWellData(); // 初始加载井(属性)下拉列表数据
            loadAreaData(); // 初始加载面积(属性)下拉列表数据
        });

        ////页面加载完毕后执行
        window.onload = function () {

        }
    </script>
</body>

</html>
